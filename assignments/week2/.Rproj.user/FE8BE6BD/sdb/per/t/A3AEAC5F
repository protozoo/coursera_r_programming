{
    "contents" : "corr <- function(directory, threshold = 0) \n{  \n  ## create a vector to hold the results\n  correlations <- c()\n  \n  ## get all files\n  all <- complete( directory, 1:332 )\n  \n  ## filter to get only the ones above threshold\n  completed <- subset( all, nobs > threshold )  \n  \n  ## iterate over the ID column\n  for(i in completed$id ) \n  {\n    ## build file name and read it\n    filename = paste( directory, \"/\", formatC( i, digits=2, flag=0), \".csv\", sep=\"\" )\n    csv <- read.csv( filename )\n    \n    ## find the complete monitors & number of rows\n    completeMonitors <- csv[complete.cases(csv),]\n    numComplete <- nrow( completeMonitors )\n    \n    ## if above the threshold, add correlation value to the results vector\n    if( numComplete >= threshold ) {\n      correlations <- c(correlations, cor( completeMonitors$nitrate, completeMonitors$sulfate ) )\n    }\n  }\n  \n  ## return results vector\n  correlations\n}\n\n",
    "created" : 1410741438700.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "2087239177",
    "id" : "A3AEAC5F",
    "lastKnownWriteTime" : 1410777491,
    "path" : "~/Documents/work/coursera/coursera_r_programming/assignments/week2/corr.R",
    "project_path" : "corr.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "source_on_save" : false,
    "type" : "r_source"
}